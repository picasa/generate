% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/system_gis.R
\name{plot_ridge}
\alias{plot_ridge}
\title{Compose ridge layers into a complete plot with coordinate system and cropping}
\usage{
plot_ridge(
  data,
  method = "ridge",
  span = 0.1,
  n_min = 100,
  line = "vector",
  size = 0.3,
  color = "black",
  alpha = 0.8,
  lineend = "butt",
  coord = "fixed",
  ratio = NULL,
  scale = 1,
  crop = "x",
  expand = TRUE,
  xlim = c(NA_real_, NA_real_),
  ylim = c(NA_real_, NA_real_)
)
}
\arguments{
\item{data}{dataframe of processed ridge data (xn, zn, y_rank columns)}

\item{method}{plot method: "ridge" (raw lines only) or "smooth" (raw + loess-smoothed lines)}

\item{span}{loess span for smoothing, higher = smoother (default 0.1, used when method = "smooth")}

\item{n_min}{minimum ridge length to apply smoothing in cells (default 100, used when method = "smooth")}

\item{line}{line rendering: "vector" (clean lines for pen-plotting) or "pencil" (textured with random alpha)}

\item{size, color, alpha, lineend}{line aesthetics passed to layer_ridge() and layer_smooth()}

\item{coord}{coordinate system: "fixed" (coord_fixed) or "free" (coord_cartesian)}

\item{ratio}{width:height ratio for output cropping. NULL = no cropping (default NULL)}

\item{scale}{scaling factor applied to y-range before cropping (default 1, used with crop = "r")}

\item{crop}{cropping method when ratio is set:
\itemize{
\item "x": keep y limits (max-lower to min-upper ridge), crop x-axis
\item "y": keep x limits, crop y-axis
\item "a": keep full y data range (min-lower to max-upper), crop x-axis
\item "r": keep full zn range, crop x-axis
}}

\item{expand}{logical, expand limits (default TRUE)}

\item{xlim, ylim}{manual axis limits (default NA)}
}
\value{
ggplot object with ridge layers, coordinate system, and optional cropping
}
\description{
Combines layer_ridge() and optionally layer_smooth(), then applies aspect ratio cropping.
}
